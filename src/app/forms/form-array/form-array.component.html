<h4>Form Array - Is used to create new form controls dynamically</h4>

<h2>Model Driven Forms</h2>
<!-- <p><b>required and ngmodel with template reference variable(#name='ngModel') is must for template driven forms</b></p> -->

<form [formGroup]="regForm" (ngSubmit)="regSubmit(regForm)" autocomplete="off">
    <div class="form-group">
        <label for="firstName">First Name</label>
        <input type="text" class="form-control" id="firstName" name="firstName" placeholder="Enter First Name"
            formControlName="firstName" />
        <!-- Validations start -->
        <small *ngIf="regForm.controls['firstName'].touched && !regForm.controls['firstName'].valid"
            class="form-text text-danger">

            <!-- Fore Required Validation -->
            <span *ngIf="regForm.controls['firstName'].hasError('required')" class="form-text text-danger">Enter First
                Name.</span>

            <!-- Fore minlength Validation -->
            <span *ngIf="regForm.controls['firstName'].hasError('minlength')" class="form-text text-danger">Minlength is
                5.</span>

            <!-- Fore maxlength Validation -->
            <span *ngIf="regForm.controls['firstName'].hasError('maxlength')" class="form-text text-danger">Maxlength is
                10.</span>
        </small>
        <!-- Validations end -->
    </div>
    <div class="form-group">
        <label for="lastName">Last Name</label>
        <input type="text" class="form-control" id="lastName" name="lastName" placeholder="Enter Last Name"
            formControlName="lastName" />
        <!-- Validations start -->
        <small *ngIf="regForm.controls['lastName'].touched && !regForm.controls['lastName'].valid"
            class="form-text text-danger">

            <!-- Fore Required Validation -->
            <span *ngIf="regForm.controls['lastName'].hasError('required')" class="form-text text-danger">Enter Last
                Name.</span>

            <!-- Fore minlength Validation -->
            <span *ngIf="regForm.controls['lastName'].hasError('minlength')" class="form-text text-danger">Minlength is
                5.</span>
        </small>
        <!-- Validations end -->
    </div>
    <div class="form-group">
        <label for="email">Email address</label>
        <input type="email" class="form-control" id="email" name="email" placeholder="Enter email"
            formControlName="email" />
        <small *ngIf="regForm.controls['email'].touched && !regForm.controls['email'].valid"
            class="form-text text-danger">Enter Email.</small>
    </div>

    <!-- mobile numbers formArray dynamically with nested FormArray -->
    <div class="form-group" formArrayName="mobilenos">
        <label for="email">Mobile Number</label>
        <span class="row">
            <!-- <ng-container *ngFor="let mobileno of regForm.get('mobilenos').controls; index as idx"> -->
            <ng-container *ngFor="let mobileno of contactnos.controls; index as idx">
                <input type="email" class="form-control col-md-9 ml-5 mb-3" id="mobilenumber" name="mobilenumber"
                    placeholder="Enter Mobile Number" [formControlName]="idx" />
                <button class="btn btn-small btn-primary col-md-2 ml-2 mb-3" (click)="deleteMobileno(idx)"
                    *ngIf="contactnos.controls?.length > 1">Delete</button>
            </ng-container>
        </span>
        <div>
            <button class="btn btn-small btn-primary col-md-2 ml-2 mb-3" (click)="addMobileno()">Add</button>
        </div>
        <small *ngIf="regForm.controls['email'].touched && !regForm.controls['email'].valid"
            class="form-text text-danger">Enter Email.</small>
    </div>
    <!-- mobile numbers formArray dynamically with nested FormArray -->


    <button type="submit" class="btn btn-primary" [disabled]="!regForm.valid">Submit</button>
</form>